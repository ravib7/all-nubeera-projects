(function(_ds){var window=this;var Ola=function(a){return(0,_ds.P)("<tr no-matches><td colspan="+_ds.Ew(a.mH)+">No matches</td></tr>")},Pla=function(){return(0,_ds.P)("<li no-matches>No matches</li>")},Qla=function(a){a=a.pI;a=_ds.zT(new _ds.vT("{RESULTS_COUNT_1,plural,=0{No results}=1{1 result}other{{RESULTS_COUNT_2} results}}"),{RESULTS_COUNT_1:a,RESULTS_COUNT_2:_ds.U(a)});return(0,_ds.P)('<span class="results-count-text">'+a+"</span>")},Rla=function(){return(0,_ds.P)('<div class="devsite-filter-input-container"></div>')},Sla=
function(){let a;a='<span class="devsite-filter-clear-button hidden" aria-label="'+_ds.vw("Clear filter");a=a+'" data-title="'+_ds.vw("Clear filter");return(0,_ds.P)(a+'" role="button" tabindex="0"></span>')};var n5=function(a,b,c,d,e){b=b.toLowerCase();if(c||d){var f=e?e:Array.from(a.querySelectorAll("td"));if(!f||0===f.length)return!1;d?a=d===c?f[d-1]:null:c&&f[c-1]&&(a=f[c-1]);f=!0}if(!a)return!1;c=!1;!e||f?c=a.textContent.toLowerCase().includes(b):c=e.length?e.some(g=>g.textContent.toLowerCase().includes(b)):!1;if(!c)for(a=document.createNodeIterator(a,NodeFilter.SHOW_COMMENT,{acceptNode:()=>NodeFilter.FILTER_ACCEPT});e=a.nextNode();)e.nodeValue.toLowerCase().includes(b)&&(c=!0);return c},Tla=function(a){const b=
a.querySelector(".devsite-filter");if(b){const c=document.querySelector(`#${b.getAttribute("data-div")}`);c&&a.appendChild(c);["data-classes","data-div","data-max-rows"].forEach(d=>{b.hasAttribute(d)&&b.removeAttribute(d)});b.classList.remove("devsite-filter")}},Ula=async function(a){a.Lc=Array.from(a.querySelectorAll("[results-count-container]"));a.o=a.querySelector("input[type=text]")||document.querySelector(".devsite-filter-input");if(a.o){a.Ga=_ds.L(Sla);var b=_ds.L(Rla);_ds.qj(b,a.o);b.appendChild(a.o);
b.appendChild(a.Ga)}let c;if(a.hasAttribute("select-el-container-id")){b=a.getAttribute("select-el-container-id").split(" ");for(var d of b){const f=(b=document.querySelector(`#${d}`))?"DEVSITE-SELECT"===b.tagName.toUpperCase()||b.querySelector("devsite-select"):null;b&&f&&(c||(c=b.querySelector("[selected]")),a.xa.push(b))}a.Ta=a.xa.some(f=>(f=f.querySelector("select"))&&f.multiple)}a.hasAttribute("checkbox-form-id")&&(d=a.getAttribute("checkbox-form-id"),a.h=document.getElementById(d),o5(a),a.ea=
a.h.querySelector(".toggle-all"),a.ra=a.h.querySelector(".select-all"),a.oa=a.h.querySelector(".clear-all"),a.ra&&a.ra.setAttribute("type","button"),a.oa&&a.oa.setAttribute("type","button"));a.m=a.querySelector(".list");if(a.m&&a.m.children.length){a.Za=!!a.m.querySelector("[rowspan]");a.Ba=p5(a);a.hasAttribute("hide-if-empty")&&(a.Cb="hide");if("TBODY"===a.m.tagName.toUpperCase()&&"notification"===a.Cb){d=Array.from(a.querySelectorAll("th:not(.hidden)"));for(var e of d)a.jb=e.hasAttribute("colspan")?
a.jb+parseInt(e.getAttribute("colspan"),10):a.jb+1}a.Ma=a.Ta?"multi":a.h?"any":"all";a.hasAttribute("match")&&!a.Ta&&(e=a.getAttribute("match").toLowerCase(),"all"===e||"any"===e)&&(a.Ma=e);a.h&&(q5(a),(a.ra||a.oa)&&a.ub(),r5(a))}a.Oa=a.querySelector("devsite-pagination");c&&a.xa.length&&a.Ba.length&&(await window.customElements.whenDefined("devsite-select"),a.Ha());a.hasAttribute("sortable")&&(a.Fa=Array.from(a.querySelectorAll("th")),a.Fa.length&&(e=p5(a),e.length&&(d=parseInt(a.getAttribute("sortable"),
10)||0,s5(a,a.Fa[d]),t5(a,e,d),u5(a))));c||r5(a)},Xla=async function(a){a.o&&a.Ba.length&&(a.Ca.listen(a.o,"keyup",()=>void a.De.eb()),a.Ga&&a.Ca.listen(a.Ga,["click","keydown"],b=>{"click"!==b.type&&13!==b.keyCode&&27!==b.keyCode||!a.o||(a.o.value="",a.Ha())}));if(a.xa.length&&a.Ba.length){await window.customElements.whenDefined("devsite-select");for(const b of a.xa){const c=b.querySelector("ul");c&&a.Ca.listen(c,["click","keypress"],a.Ha);c&&a.h&&(a.ra||a.oa)&&a.Ca.listen(c,["click","keypress"],
a.ub)}}a.h&&a.Ba.length&&(a.Ca.listen(a.h,["click","keypress"],b=>{b.target!==a.ra&&b.target!==a.oa||Vla(a,b)}),a.h.querySelectorAll("input[type=checkbox]")&&(a.ea&&v5(a),a.Ca.listen(a.h,"change",b=>{Wla(a,b)})));a.Fa.length&&a.Ba.length&&a.Fa.forEach((b,c)=>{a.Ca.listen(b,"click",a.Ce.bind(a,c))})},Vla=function(a,b){const c={category:"Site-Wide Custom Events",action:null,label:`#${a.h.id}`};b=b.target;if(b===a.ra){for(var d of a.xa)if(d.querySelector("select").multiple){const f=d.querySelectorAll("option"),
g=d.querySelectorAll(".devsite-select-item");for(var e of f)_ds.w(a,"selected","true",e);for(const h of g)_ds.w(a,"data-selected","true",h),_ds.w(a,"aria-selected","true",h)}a.Da.forEach(f=>{f.checked=!0});c.action="devsite-filter select-all click"}if(b===a.oa){if(a.xa.length)for(const f of a.xa){d=f.querySelectorAll("option[selected]");e=f.querySelectorAll(".devsite-select-item[data-selected]");for(const g of d)g.removeAttribute("selected");for(const g of e)g.removeAttribute("data-selected"),_ds.w(a,
"aria-selected","false",g);a.Ta||_ds.w(a,"reset","",f)}a.Da.forEach(f=>{f.checked=!1});c.action="devsite-filter clear-all click"}a.ub();a.Ha();a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:c,bubbles:!0}))},v5=function(a){const b=a.h.querySelectorAll(":checked:not(.toggle-all)").length;b===a.Da.length?(a.ea.indeterminate=!1,a.ea.checked=!0):b<a.Da.length&&0<b?a.ea.indeterminate=!0:0===b&&(a.ea.indeterminate=!1,a.ea.checked=!1)},Wla=function(a,b){var c=b.target;a.ea&&(c===
a.ea?a.Da.forEach(d=>{d.checked=a.ea.checked}):v5(a));(a.ra||a.oa)&&a.ub();a.Ha();b=c.checked?"check":"uncheck";c=c===a.ea?"toggle-all":w5(a,c);a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:{category:"Site-Wide Custom Events",action:`${"devsite-filter"} checkbox ${b}`,label:`${c} (#${a.h.id})`},bubbles:!0}))},o5=function(a){a.ya=[];a.o&&a.ya.push({text:a.o.value.trim().toLowerCase(),columnNumber:parseInt(a.o.getAttribute("column"),10)||void 0,Ui:"devsite-filter-input"});
if(a.xa.length)for(const b of a.xa){const c=b.querySelector("select");if(c){let d=[];if(c.multiple&&-1!==c.selectedIndex)for(const e of c.options)e.hasAttribute("selected")&&d.push(e);else!c.multiple&&0!==c.selectedIndex&&c.options[c.selectedIndex].hasAttribute("selected")&&d.push(c.options[c.selectedIndex]);d.forEach(e=>{a.ya.push({text:e.value||e.text.trim().toLowerCase(),columnNumber:parseInt(b.getAttribute("column"),10)||void 0,Ui:b.id})})}}a.h&&(a.Da=a.h.querySelectorAll("input[type=checkbox]:not(.toggle-all)"),
Array.from(a.Da).forEach(b=>{b.checked&&a.ya.push({text:w5(a,b),columnNumber:parseInt(b.getAttribute("column"),10)||void 0,Ui:b.id})}))},q5=function(a){_ds.pj(a.m);if(!a.ya.length&&a.Ta)for(const b of a.Ba)x5(a,b);else if("multi"===a.Ma&&(a.La={},a.ya.forEach(b=>{a.La[b.Ui]?a.La[b.Ui].push(b):a.La[b.Ui]=[b]})),a.Za)for(const b of a.Ba)Array.isArray(b)?Yla(a,b):y5(a,b)&&x5(a,b);else for(const b of a.Ba)y5(a,b)&&x5(a,b)},r5=function(a){if(a.hasAttribute("show-results-count"))for(const b of a.Lc)_ds.K(b,
Qla,{pI:a.m.children.length});a.m.children.length?a.removeAttribute("empty"):(a.setAttribute("empty",""),"hide"!==a.Cb&&("TBODY"===a.m.tagName.toUpperCase()?_ds.K(a.m,Ola,{mH:a.jb}):"UL"===a.m.tagName.toUpperCase()&&_ds.K(a.m,Pla)));Zla(a)},z5=function(a){for(const b of a.Fa)b.removeAttribute("sort-ascending"),b.removeAttribute("sort-descending")},u5=function(a){a.Oa&&(a.Oa.hasAttribute("reset")?a.Oa.removeAttribute("reset"):a.Oa.setAttribute("reset",""))},p5=function(a){const b=Array.from(a.m.children);
if(a.Za)for(const [c,d]of b.entries())"TR"===d.tagName.toUpperCase()&&d.querySelector("[rowspan]")&&(a=parseInt(d.querySelector("[rowspan]").getAttribute("rowspan"),0)||0,0<a&&b.splice(c,a,b.slice(c,c+a)));return b},s5=function(a,b){b.hasAttribute("sort-ascending")?(z5(a),b.setAttribute("sort-descending",""),a.Jb=!0):(z5(a),b.setAttribute("sort-ascending",""),a.Jb=!1)},t5=function(a,b,c){b=b.map(d=>{if(!a.Za)return A5(d,c);if(Array.isArray(d)){var e=d[0]?d[0].querySelector("[rowspan]"):null;if(0!==
d.length&&e){var f=Array.from(d[0].querySelectorAll("td")).indexOf(e);if(c===f)return A5(d,c,e);e=d.map(h=>h.cloneNode(!0));d=e[0].removeChild(e[0].querySelector("[rowspan]"));const g=c>f?1:0;e=e.map(h=>{if(h.querySelectorAll("td")[c-g])return A5(h,c-g)}).filter(Boolean);if(0!==e.length)return B5(a,e),e[0].element.insertBefore(d,e[0].element.querySelectorAll("td")[f]),f=e.map(h=>h.element),d=e.map(h=>h.text).join(""),{element:f,text:d}}}else return A5(d,c)}).filter(Boolean);if(0!==b.length){B5(a,
b);_ds.pj(a.m);for(const d of b)if(Array.isArray(d.element))for(const e of d.element)a.m.appendChild(e);else a.m.appendChild(d.element)}},w5=function(a,b){if(!b)return"";let c=b.getAttribute("value");!c&&b.id&&a.h&&(a=a.h.querySelector(`[for=${b.id}]`))&&(c=a.textContent.trim());return c},y5=function(a,b,c,d){if("all"===a.Ma)return a.ya.every(e=>n5(b,e.text,e.columnNumber,c,d));if("any"===a.Ma)return a.ya.some(e=>n5(b,e.text,e.columnNumber,c,d));if("multi"===a.Ma){let e=!0;for(const f of Object.keys(a.La))if(e=
!a.La[f].some(g=>n5(b,g.text,g.columnNumber,c,d)))break;return!e}},x5=function(a,b){if(Array.isArray(b))for(const c of b)C5(a,c);else C5(a,b)},Yla=function(a,b){const c=b[0]?b[0].querySelector("[rowspan]"):null;if(c&&0!==b.length){var d=Array.from(b[0].querySelectorAll("td")).indexOf(c);if(y5(a,b[0],d+1))x5(a,b);else{var e=0;for(let [g,h]of b.entries())if(b=Array.from(h.querySelectorAll("td")),0!==g&&b.splice(d,0,c),y5(a,h,void 0,b)){e++;if(1===e)if(h=b=h.cloneNode(!0),0===g)var f=b.querySelector("[rowspan]");
else f=c.cloneNode(!0),b.insertBefore(f,b.querySelectorAll("td")[d]);f.setAttribute("rowspan",e.toString());x5(a,h)}}}},Zla=function(a){if(a.Ga){var b,c;(null==(b=a.ya.find(d=>"devsite-filter-input"===d.Ui))?0:null==(c=b.text)?0:c.length)?a.Ga.classList.remove("hidden"):a.Ga.classList.add("hidden")}},C5=function(a,b){a.hasAttribute("highlight")&&a.o&&(b=$la(a,b,a.ya[0].text));a.m.appendChild(b)},$la=function(a,b,c){var d=a.getAttribute("highlight");if(!d.length)return b;d=d.split(",");d=d.map(e=>
Array.from(b.querySelectorAll(e))).flat();d=d.filter(e=>e.children.length?Array.from(e.children).every(f=>"MARK"===f.tagName.toUpperCase()):!0);d.forEach(e=>{let f=_ds.Mj(e);c.length&&(f=f.replace(new RegExp(`(${c})`,"ig"),"<mark>$1</mark>"));_ds.Ad(e,a.Be.h(f))});return b},A5=function(a,b,c){if(Array.isArray(a))return c?{element:a,text:c.textContent.trim().toLowerCase()}:void 0;if(a.querySelectorAll("td")[b])return{element:a,text:a.querySelectorAll("td")[b].textContent.trim().toLowerCase()}},B5=
function(a,b){b.sort((c,d)=>a.Jb?d.text.localeCompare(c.text):c.text.localeCompare(d.text))},D5=class extends _ds.ji{constructor(){super();this.Ca=new _ds.x(this);this.Ac=!1;this.Ga=this.o=null;this.xa=[];this.ya=[];this.h=null;this.La={};this.oa=this.ra=this.ea=this.Da=null;this.Ma="";this.Za=!1;this.Be=new _ds.cV(_ds.eV(new _ds.aV));this.De=new _ds.km(()=>{this.Ha()},20);this.m=null;this.Ba=[];this.Cb="notification";this.jb=0;this.Fa=[];this.Jb=!1;this.Oa=null;this.Ta=!1;this.Lc=[];_ds.fi(this,
(0,_ds.n)`selected`,(0,_ds.n)`data-selected`,(0,_ds.n)`aria-selected`,(0,_ds.n)`reset`)}connectedCallback(){this.Ac||(Tla(this),Ula(this),this.Ac=!0);Xla(this)}disconnectedCallback(){_ds.B(this.Ca)}Ha(){o5(this);q5(this);r5(this);this.Fa.length&&z5(this);u5(this);this.dispatchEvent(new CustomEvent("devsite-content-updated",{bubbles:!0}))}Ce(a,b){const c=p5(this);c.length&&((b=b.target)&&s5(this,b),t5(this,c,a));u5(this)}ub(){const a=this.h.querySelectorAll("input:checked:not(.toggle-all)").length,
b=this.h.querySelectorAll("option"),c=this.h.querySelectorAll("option[selected]").length;this.ra&&(this.ra.disabled=a+c===this.Da.length+b.length);this.oa&&(this.oa.disabled=0===a+c)}};D5.prototype.disconnectedCallback=D5.prototype.disconnectedCallback;D5.prototype.connectedCallback=D5.prototype.connectedCallback;try{window.customElements.define("devsite-filter",D5)}catch(a){console.warn("devsite.app.customElement.DevsiteFilter",a)};})(_ds_www);
